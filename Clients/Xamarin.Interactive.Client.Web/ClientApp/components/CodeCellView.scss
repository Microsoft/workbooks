//
// Author:
//   Aaron Bockover <abock@microsoft.com>
//
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

@import '../css/theme.scss';

$margin: 8px;
$padding: $margin / 2;
$borderColor: darken($cellEditorBackground, 20%);

.CodeCell-container {
  cursor: default;
  margin: 1em 0;
  border-left: 1px solid $borderColor;

  .CodeCell-editor-container {
    position: relative;
    padding: $padding;
    background: $cellEditorBackground;

    .CodeCell-actions-container {
      position: absolute;
      z-index: 500;
      bottom: 0;
      right: 0;

      button {
        position: absolute;
        right: $padding;
        bottom: $padding * 1.5;

        .CodeCell-Running-Cancel-Group {
          visibility: hidden;
        }

        &:hover {
          .CodeCell-Running-Cancel-Group {
            visibility: visible;
            color: $themeCancel;
          }

          .CodeCell-Running-Group {
            visibility: hidden;
          }
        }
      }

      svg .CodeCell-Running-Ring1,
      svg .CodeCell-Running-Ring3 {
        animation: spin-cw 1s linear infinite;
        transform-origin: 50% 50%;
      }

      svg .CodeCell-Running-Ring2 {
        animation: spin-ccw 1s linear infinite;
        transform-origin: 50% 50%;
      }
    }
  }

  .CodeCell-diagnostics-container {
    @include codeFont;

    ul {
      margin-bottom: $margin;
      border: 1px solid $fgColorError;
      list-style-type: none;
      margin: 0;
      padding: 0;
    }

    ul:empty {
      border: none;
      padding: none;
      margin: none;
    }

    li {
      padding: $padding;
    }

    .CodeCell-diagnostic-Error {
      color: $fgColorError;
    }
    .CodeCell-diagnostic-Warning {
      color: $fgColorWarning;
    }
  }

  .CodeCell-captured-output-container {
    border-bottom: 1px dotted $cellEditorBorderColor;
    background: lighten($cellEditorBackground, 2%);
  }

  .CodeCell-results-container,
  .CodeCell-captured-output-container {
    margin-bottom: $margin;

    .CodeCell-representation {
      display: flex;

      .RepresentationSelector {
        margin-left: calc(-10vw - 1em);
        width: 10vw;
      }

      .CodeCell-representation-renderer-container {
        flex-grow: 1;
        padding-left: calc(1em + #{$padding});
      }
    }
  }
}